<header id="header" class="animated fadeInDown">
  <div id="logo-group">
    <span id="logo">
      <img src="assets/img/logo.png" alt="CXM Dashboard" />
    </span>
  </div>

  <!-- <span id="extr-page-header-space"> <span class="hidden-mobile hiddex-xs">Need an account?</span> <a routerLink="/auth/register" class="btn btn-danger">Create account</a> </span> -->
</header>

<div id="main" role="main" class="animated fadeInDown">
  <div id="content" class="container">
    <div class="row">
      <div class="col-xs-12 col-sm-12 col-md-7 col-lg-8 hidden-xs hidden-sm">
        <h1 class="txt-color-red login-header-big">Reset Password</h1>

        <div class="hero">
          <div class="pull-left login-desc-box-l">
              <h4 class="paragraph-header">For other support issues, please email <a href="mailto:support@claritycxm.com">support@claritycxm.com</a>.</h4>
          </div>
        </div>
        <app-system-info></app-system-info>

      </div>
      <div class="col-xs-12 col-sm-12 col-md-5 col-lg-4">
        <div class="well no-padding">
          <form
            class="smart-form client-form"
            autocomplete="off"
            #form="ngForm"
            (ngSubmit)="form.valid && handleResetPassword(form)"
            novalidate
          >
            <header>
              Reset Password
            </header>
            <alert
              type="{{ messageObject.type }}"
              dismissible="true"
              *ngIf="messageObject"
              (onClosed)="messageObject = null"
            >
              {{messageObject.message }}
            </alert>
            <fieldset>
              <section>
                  <label class="label">New Password</label>
                  <label class="input" [class.error]="(form.submitted || passwordControl.touched) && passwordControl.invalid"> 
                    <i class="icon-append fa fa-lock"></i>
                    <input type="password" name="password" [(ngModel)]="resetForm.password" #passwordControl="ngModel" pattern="(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[$@$!%*?&])[A-Za-z\d$@$!%*?#&]{8,10}" [disabled]="loading" required >
                    <b class="tooltip tooltip-top-right">
                        <i class="fa fa-lock txt-color-teal"></i>
                        <span class="help-block" *ngIf="!passwordControl.errors">Enter your password</span>
                        <span class="help-block" *ngIf="passwordControl.errors?.required">Enter your password</span>
                        <span class="help-block" *ngIf="passwordControl.errors?.pattern">Password should contain one uppercase, one lowercase, one number, one sepcial character and minimum 8 characters.</span>
                    </b>
                  </label>
              </section>
              <div class="note">
                <a routerLink="/login">Click here to login</a>
              </div>
            </fieldset>
            <footer>
              <button
                type="submit"
                class="btn btn-primary"
                [disabled]="loading"
              >
                <i class="fa fa-refresh" [class.fa-spin]="loading"></i> Reset
                Password
              </button>
            </footer>
          </form>
        </div>
      </div>
    </div>
  </div>
</div>
